## 310-geth-configmap.yml
apiVersion: v1
kind: ConfigMap
metadata:
  name: ai-agent-config
  labels:
    app: ai-agent
data:
  nginx.conf: |
    server {
      listen 3000;
      server_name localhost;

      root /usr/share/nginx/html;
      index index.html;

      # Cache busting for static assets
      location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
          expires 1y;
          add_header Cache-Control "public, immutable";
      }

      # Fallback to index.html for React routing
      location / {
          try_files $uri /index.html =404;
      }
    }
  env.js: |
    window.env = {
      REACT_APP_BACKEND_API: "http://agent-a-http:3001/chat"
    };
  NODE_ENV: development
  PORT: "3001"
